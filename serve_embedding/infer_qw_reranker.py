import requests
import json
from typing import List, Optional, Dict

class RerankerClient:
    def __init__(self, base_url: str = "http://aitc.hisense.com:4518"):
        """
        初始化Qwen3-Reranker服务客户端

        :param base_url: 服务基础URL，默认为"http://localhost:8081"
        """
        self.base_url = base_url
        self.rerank_endpoint = f"{self.base_url}/rerank"

    def rerank(self,
               queries: List[str],
               documents: List[str],
               instruction: Optional[str] = None) -> Dict:
        """
        调用rerank接口获取查询与文档的相关性分数

        :param queries: 查询列表
        :param documents: 文档列表（需与查询列表长度一致）
        :param instruction: 可选的指令，用于指导模型评分
        :return: 包含评分结果的字典
        """
        # 验证输入
        if len(queries) != len(documents):
            raise ValueError("queries and documents must have the same length")

        # 构建请求数据
        payload = {
            "queries": queries,
            "documents": documents
        }

        if instruction:
            payload["instruction"] = instruction

        try:
            # 发送请求
            response = requests.post(
                self.rerank_endpoint,
                data=json.dumps(payload),
                headers={"Content-Type": "application/json"},
                timeout=60  # 设置超时时间
            )

            # 检查响应状态
            response.raise_for_status()

            # 返回解析后的结果
            return response.json()

        except requests.exceptions.RequestException as e:
            print(f"请求发生错误: {str(e)}")
            return {"code": 100, "data": [], "message": str(e)}

# 使用示例
if __name__ == "__main__":
    # 初始化客户端
    client = RerankerClient()

    # 准备测试数据


    test_instruction = "给一个用户的问题，找到最能够回答这个问题的片段，注意：一定要能够回答这个问题,特别需要关注<keyword></keyword>中的keyword是否匹配"
    #test_instruction = 'Given a web search query, retrieve relevant passages that answer the query'

######
    query="聚好看广告总经理的岗位关键挑战是?"
    data_dict={"code": "0", "msg": "操作成功", "alert": "0", "records": [{"content": "**海信管理任职资格标准**\n**聚好看公司**\n**广告事业部总经理**\n# 第一部分 概述\n## 一、标准名称\n聚好看公司广告事业部总经理任职资格标准\n## 二、标准说明\n管理岗位的任职资格是从业务需求出发，清晰界定各岗位的要求，为选拔、培养发展提供依据。\n任职资格标准框架包括五大部分：1.岗位关键挑战；2.岗位角色定位；3.关键业务活动、关键经营指标；4.任职要求；5.职业发展路径。\n## 三、任职资格使用范围\n本标准适用于广告事业部总经理岗位的员工。\n## 四、责任主体\n人力资源部保留对本文件的所有解释权。", "score": 0.8060643, "category_path": "人资知识库/干部管理/管理任职资格标准", "block_id": "8f629d88d2724aa187e244091a82028c", "doc_id": "8f629d88d2724aa187e244091a82028c", "metadata": {"keywords": "海信管理任职资格标准 聚好看公司 广告事业部总经理 岗位关键挑战 岗位角色定位 关键业务活动 关键经营指标 任职要求 职业发展路径 人力资源部", "summary": "关于海信管理任职资格标准，以下是详细信息：该标准适用于聚好看公司广告事业部总经理岗位的员工。标准名称明确为聚好看公司广告事业部总经理任职资格标准。标准说明指出，管理岗位的任职资格是从业务需求出发，清晰界定各岗位的要求，为选拔、培养发展提供依据。任职资格标准框架包括五大部分：岗位关键挑战、岗位角色定位、关键业务活动及关键经营指标、任职要求以及职业发展路径。责任主体为人力资源部，保留对本文件的所有解释权。", "questions": "[\"聚好看公司广告事业部总经理任职资格标准的框架包括哪些部分？\", \"谁负责解释聚好看公司广告事业部总经理任职资格标准？\", \"聚好看公司广告事业部总经理任职资格标准适用于哪些员工？\"]", "ner_n_entity": "资格 公司 广告 事业部 总经理 岗位 关键 角色 业务 活动 职业 路径 人力资源部 人资 干部 管理岗", "ner_exn_entity": "海信", "ner_v_entity": "管理 任职 聚 挑战 定位 经营"}}, {"content": "聚好看科技股份有限公司", "score": 0.80573285, "category_path": "零散知识库/视像需求分析知识/软件PRD", "block_id": "a5bd64bd12444720bda14c05c30c7220", "doc_id": "a5bd64bd12444720bda14c05c30c7220", "metadata": {"keywords": "聚好看科技", "summary": "聚好看科技股份有限公司是一家专注于科技领域的企业，致力于提供创新的解决方案和服务。该公司在行业内具有较高的知名度，其业务范围涵盖多个领域，包括但不限于智能设备、软件开发和数字内容服务。聚好看科技股份有限公司以其先进的技术和优质的产品赢得了广泛的市场认可。通过持续的技术创新和市场拓展，该公司不断推动行业的发展，为用户带来更加便捷和高效的科技体验。", "questions": "[\"聚好看科技股份有限公司的主要业务是什么？\", \"聚好看科技股份有限公司在行业中扮演什么角色？\", \"聚好看科技股份有限公司有哪些核心产品或服务？\"]", "ner_n_entity": "科技 需求 知识软件 电视 动画 联系书", "ner_exn_entity": "PRD APP", "ner_v_entity": "聚 视 像 分析 关机 上线"}}, {"content": "## ![](https://higpt-mobile.hisense.com/xsky/histarprd-agent/rag/c447ca82b80d4f26acac265a01a2b331.png)五、职业发展路径\n图5-1：聚好看公司广告事业部副总经理职业发展路径", "score": 0.79887754, "category_path": "人资知识库/干部管理/管理任职资格标准", "block_id": "1f99ef4a1d4a4577bdff216f05cfa090", "doc_id": "1f99ef4a1d4a4577bdff216f05cfa090", "metadata": {"keywords": "聚好看公司 广告事业部 副总经理 职业发展路径", "summary": "关于职业发展路径，以下是详细信息：图5-1展示了聚好看公司广告事业部副总经理的职业发展路径。该图详细描述了从基层岗位逐步晋升至副总经理职位的过程，包括各个阶段的职责和所需技能。通过该路径，员工可以清晰地了解在广告事业部中如何通过积累经验和提升能力来实现职业晋升。该路径不仅为员工提供了明确的职业发展方向，也为公司的人才培养和梯队建设提供了参考依据。", "questions": "[\"图5-1展示的是哪个公司的职业发展路径？\", \"聚好看公司广告事业部的副总经理的职业发展路径是什么？\", \"图5-1中提到的职业发展路径涉及哪些具体职位？\"]", "ner_n_entity": "公司 广告 事业部 副总经理 职业 路径 人资 干部 资格 总经理 管理岗", "ner_exn_entity": "", "ner_v_entity": "聚 管理 任职"}}, {"content": "## 广告事业部总经理 任职资格标准", "score": 0.78836197, "category_path": "人资知识库/干部管理/管理任职资格标准", "block_id": "7f4d22acc05d4af3b955cd0de3716d68", "doc_id": "7f4d22acc05d4af3b955cd0de3716d68", "metadata": {"keywords": "广告事业部总经理 任职资格标准", "summary": "关于广告事业部总经理的任职资格标准，以下是详细信息：\n\n该文本主要描述了广告事业部总经理的任职资格标准。首先，标题“广告事业部总经理 任职资格标准”被转换为自然语言分段，明确了讨论的主题。文本中未包含表格或代码块，因此无需进行相关转换。在文本清理方面，移除了无关符号，并确保文本连贯性。由于文本中未提及具体产品、型号或品牌信息，因此未从来源中提取相关内容。\n\n输出要求方面，每段文本保持了语义完整，长度控制在100-300字以内，保留了原始数据的核心信息和逻辑关系。内容体现了文本的核心观点和事实，未添加无实际意义的词汇或过多的修饰语。\n\n总结来说，该文本详细阐述了广告事业部总经理的任职资格标准，确保了信息的清晰和连贯，符合数据预处理的要求。", "questions": "[\"广告事业部总经理的任职资格标准包括哪些内容？\", \"为什么广告事业部总经理需要具备特定的任职资格？\", \"在评估广告事业部总经理的任职资格时，主要考虑哪些因素？\"]", "ner_n_entity": "广告 事业部 总经理 资格 人资 干部 公司 管理岗", "ner_exn_entity": "", "ner_v_entity": "任职 管理 聚"}}, {"content": "## ![](https://higpt-mobile.hisense.com/xsky/histarprd-agent/rag/2068043d2121467da4dded298a28a728.png)五、职业发展路径\n图5-1：聚好看公司综合管理部总经理职业发展路径", "score": 0.78249717, "category_path": "人资知识库/干部管理/管理任职资格标准", "block_id": "1e6bf847ffed42ba83bfa68bda7b85c5", "doc_id": "1e6bf847ffed42ba83bfa68bda7b85c5", "metadata": {"keywords": "聚好看公司 综合管理部 总经理 职业发展路径", "summary": "关于职业发展路径，以下是详细信息：图5-1展示了聚好看公司综合管理部总经理的职业发展路径。该图详细描述了从初级职位到总经理的晋升过程，包括各个阶段的职责和所需技能。职业发展路径通常包括以下几个阶段：初级管理职位、中级管理职位、高级管理职位，最终达到总经理级别。每个阶段都有明确的职责和技能要求，帮助员工逐步提升并适应更高层次的管理工作。这种结构化的职业发展路径有助于员工明确目标，规划职业生涯，同时也为公司培养和储备管理人才提供了清晰的框架。", "questions": "[\"图5-1展示的是哪个公司的职业发展路径？\", \"聚好看公司综合管理部总经理的职业发展路径是什么？\", \"图5-1中提到的职业发展路径属于哪个部门？\"]", "ner_n_entity": "公司 管理部 总经理 职业 路径 人资 干部 资格 管理岗", "ner_exn_entity": "", "ner_v_entity": "聚 综合 管理 任职"}}, {"content": "## ![](https://higpt-mobile.hisense.com/xsky/histarprd-agent/rag/5c9ebddc96ee4bf69ef1bc97ed5eda53.png)五、职业发展路径\n图5-1：聚好看公司家庭场景事业部总经理职业发展路径", "score": 0.7781843, "category_path": "人资知识库/干部管理/管理任职资格标准", "block_id": "1a9245af207b41b8a7ece269f76bb71e", "doc_id": "1a9245af207b41b8a7ece269f76bb71e", "metadata": {"keywords": "聚好看公司 家庭场景事业部 总经理 职业发展路径", "summary": "关于职业发展路径，以下是详细信息：图5-1展示了聚好看公司家庭场景事业部总经理的职业发展路径。该图表详细描述了从初级职位逐步晋升至总经理的各个阶段，包括所需的技能、经验和关键里程碑。每个阶段都明确指出了需要掌握的核心能力和承担的责任，以便为未来的职业发展提供清晰的指导。通过这一路径，员工可以了解如何通过不断学习和积累经验，逐步提升至更高的管理职位。", "questions": "[\"图5-1展示了聚好看公司家庭场景事业部总经理的什么内容？\", \"聚好看公司家庭场景事业部总经理的职业发展路径包括哪些阶段？\", \"如何理解聚好看公司家庭场景事业部总经理的职业发展路径？\"]", "ner_n_entity": "公司 家庭 场景 事业部 总经理 职业 路径 人资 干部 资格 管理岗", "ner_exn_entity": "", "ner_v_entity": "聚 管理 任职"}}, {"content": "## 岗位关键挑战\n**1、战略挑战：**广告收入的稳定增长，需要持续的差异化经营，OTT广告行业难以打造持久性的差异化产品，需要广告产品持续迭代，解决广告主痛点问题，保证用户体验，靠创新产品的时间差打造差异化产品优势\n**2、业务挑战：**OTT广告行业广告主的投放要求逐年细化、加严，需要广告系统保证稳定性，避免订单执行问题，持续满足广告主投放要求\n**3、协作挑战：**广告产品并非孤立存在，需要持续的跨部门以及跨公司合作，一方面在业务产品的场景里叠加广告产品，另一方面快速利用已有业务、技术能力加持广告产品\n## 二、岗位角色定位\n**1、差异化产品的打造者：**根据行业趋势和广告主痛点问题、确定产品规划及技术发展路线，打造差异化产品，建立产品优势\n**2、业务能力建设者：**结合广告主业务要求和洞察的系统问题，制定业务能力提升解决方案，提升系统能力，保证满足业务需求并提升运营和开发效率\n**3、跨部门业务场景和业务、技术能力的整合者：**深入理解组织内的业务场景，了解组织内外部的业务、技术能力，完成广告产品在业务场景的落地，使用内外部业务、技术能力赋能广告产品\n**4、团队建设和文化塑造者：**引领塑造公司文化和价值观，营造良好组织氛围；注重培养团队成员的创新和学习意识；统筹制定公司人才规划优化团队结构，打造高绩效团队\n**5、高绩效团队建设和文化塑造者：**建立匹配战略落地和组织经营目标实现的组织发展、干部人才梯队，激励和激发团队斗志和能力持续提升，引领塑造公司文化和价值观，营造良好组织氛围，持续建设高绩效团队\n**6、跨文化融合团队管理（适用于有海外业务公司）：**立足本地，积极引入和培养高潜人才，打造海外公司的人才梯队；营造有激情、有担当的组织氛围，打造出敢于挑战高目标、高度认可海信价值观的跨文化团队。", "score": 0.77259755, "category_path": "人资知识库/干部管理/管理任职资格标准", "block_id": "e2df856ffb1543aabac804cf3372c022", "doc_id": "e2df856ffb1543aabac804cf3372c022", "metadata": {"keywords": "广告收入稳定增长 差异化经营 OTT广告行业 广告主痛点 广告系统稳定性 跨部门合作 业务场景整合 团队建设 文化塑造 跨文化融合团队管理", "summary": "关于岗位关键挑战，以下是详细信息：首先，战略挑战在于广告收入的稳定增长需要持续的差异化经营。OTT广告行业难以打造持久性的差异化产品，因此需要广告产品持续迭代，解决广告主痛点问题，保证用户体验，并利用创新产品的时间差打造差异化产品优势。其次，业务挑战在于OTT广告行业广告主的投放要求逐年细化、加严，需要广告系统保证稳定性，避免订单执行问题，持续满足广告主投放要求。最后，协作挑战在于广告产品并非孤立存在，需要持续的跨部门以及跨公司合作，一方面在业务产品的场景里叠加广告产品，另一方面快速利用已有业务、技术能力加持广告产品。\n\n关于岗位角色定位，以下是详细信息：首先，差异化产品的打造者需要根据行业趋势和广告主痛点问题，确定产品规划及技术发展路线，打造差异化产品，建立产品优势。其次，业务能力建设者需要结合广告主业务要求和洞察的系统问题，制定业务能力提升解决方案，提升系统能力，保证满足业务需求并提升运营和开发效率。第三，跨部门业务场景和业务、技术能力的整合者需要深入理解组织内的业务场景，了解组织内外部的业务、技术能力，完成广告产品在业务场景的落地，使用内外部业务、技术能力赋能广告产品。第四，团队建设和文化塑造者需要引领塑造公司文化和价值观，营造良好组织氛围；注重培养团队成员的创新和学习意识；统筹制定公司人才规划优化团队结构，打造高绩效团队。第五，高绩效团队建设和文化塑造者需要建立匹配战略落地和组织经营目标实现的组织发展、干部人才梯队，激励和激发团队斗志和能力持续提升，引领塑造公司文化和价值观，营造良好组织氛围，持续建设高绩效团队。最后，跨文化融合团队管理（适用于有海外业务公司）需要立足本地，积极引入和培养高潜人才，打造海外公司的人才梯队；营造有激情、有担当的组织氛围，打造出敢于挑战高目标、高度认可海信价值观的跨文化团队。", "questions": "[\"OTT广告行业面临的主要战略挑战是什么？\", \"如何通过跨部门合作提升广告产品的竞争力？\", \"在海外业务中，如何有效管理跨文化团队？\"]", "ner_n_entity": "广告 收入 行业 广告主 系统 稳定性 部门 业务 场景 团队 文化 人资 干部 资格 公司 事业部 总经理 管理岗", "ner_exn_entity": "OTT", "ner_v_entity": "增长 差异化 经营 跨 合作 整合 建设 塑造 融合 管理 任职 聚"}}, {"content": "## 一、岗位关键挑战\n**1、市场洞察与产品策略制定的挑战：**市场竞争日趋激烈，如何寻找我品的机会点，从产品定义、上市策略到市场推广的全链路管理，确保产品在目标市场中快速渗透并实现销售目标。\n**2、跨部门协同与资源整合的挑战：**产品开发协同、供应链与生产协同、品牌与渠道赋能；资源整合力：协调研发、产、采购、零售、品牌、渠道、代理商、经销商等多方资源，解决冲突并推动目标达成。\n**3、多品线PCT协同管理的挑战：**如何解决不同系列、渠道、技术类型的产品定价的协同、供应资源的分配、费用的协同及销售渠道的协同\n**4、精细化运营能力提升的挑战：**从产品布局出发，支撑由技术驱动转向基于产品、用户、场景的流量驱动，相关运营能力的提升的挑战；\n**5、数字化提效的挑战：**不断打磨数字化工具，支撑做好多PCT管理、多部门协同、多SKU产销规划等工作提效。", "score": 0.76582885, "category_path": "人资知识库/干部管理/管理任职资格标准", "block_id": "02029e38ea364101b30fd3d8e1dde0db", "doc_id": "02029e38ea364101b30fd3d8e1dde0db", "metadata": {"keywords": "市场洞察 产品策略 跨部门协同 资源整合 多品线PCT协同管理 精细化运营 数字化提效", "summary": "关于岗位关键挑战，以下是详细信息：\n\n在市场洞察与产品策略制定方面，面临的主要挑战是如何在日益激烈的市场竞争中找到产品的机会点。这包括从产品定义、上市策略到市场推广的全链路管理，确保产品能够在目标市场中快速渗透并实现销售目标。\n\n跨部门协同与资源整合的挑战涉及产品开发、供应链与生产的协同，以及品牌与渠道的赋能。需要协调研发、生产、采购、零售、品牌、渠道、代理商、经销商等多方资源，解决冲突并推动目标达成。\n\n多品线PCT协同管理的挑战在于如何解决不同系列、渠道、技术类型的产品定价的协同、供应资源的分配、费用的协同及销售渠道的协同问题。\n\n精细化运营能力提升的挑战是从产品布局出发，支撑由技术驱动转向基于产品、用户、场景的流量驱动，相关运营能力的提升。\n\n数字化提效的挑战是不断打磨数字化工具，支撑做好多PCT管理、多部门协同、多SKU产销规划等工作提效。", "questions": "[\"在市场竞争日趋激烈的情况下，如何制定有效的产品策略以确保产品快速渗透市场？\", \"跨部门协同中，如何整合研发、生产、品牌等多方资源以推动目标达成？\", \"在多品线PCT协同管理中，如何解决不同系列产品的定价和供应资源分配问题？\"]", "ner_n_entity": "市场 策略 部门 资源 品线 人资 干部 资格 系统 总经理 管理岗", "ner_exn_entity": "PCT GTM", "ner_v_entity": "洞察 跨 协同 整合 管理 精细化 运营 数字化 提效 任职 营销"}}, {"content": "## 岗位关键挑战\n**1、外部变化应对的挑战：**行业监管部门对于现有商业模式的新规则制定、变动，对现有商务合作模式产生严重的波动性影响\n**2、团队专业能力提升的挑战：**岗位符合性需要加强；新商务模式、多维度竞品分析的专业深度需要提高\n**3、经营业绩达成的挑战：**政策变动导致的既有商业模式变动，这导致新合作模式的不确定性和业绩达成的风险\n## 二、岗位角色定位\n**1、事业部发展战略的制定者：**理解公司战略发展要求及运营定位，制定均衡可持续发展的商务策略。包括了解公司的整体战略、市场需求、竞争环境、竞品数据分析、以及协调与其他部门（产研、运营等）的需求商务合作\n**2、经营战略的承接者：**承接公司的收入指标，实现收入-家庭场景事业部、开票回款率目标\n**3、供方阵容的管理者：**明确不同类型供应商的合作策略，构建有效竞合关系，助力供应商阵容持续提升（战略需求性、成本竞争性，质量稳定性，交货周期）\n**4、全面指标结果的责任者：**确保牌照合作方、内容合作方经营安全与商务方案执行，承担媒资内容引入、新业务采购需求、回款、竞品数据收集、相关工作政府关系等支撑目标实现的责任\n**5、高绩效团队建设和文化塑造者：**建立匹配战略落地和组织经营目标实现的组织发展、干部人才梯队，激励和激发团队斗志和能力持续提升，引领塑造公司文化和价值观，营造良好组织氛围，持续建设高绩效团队", "score": 0.7654776, "category_path": "人资知识库/干部管理/管理任职资格标准", "block_id": "65008ebdf4a24a3a896acad1c36766ad", "doc_id": "65008ebdf4a24a3a896acad1c36766ad", "metadata": {"keywords": "外部变化应对 团队专业能力提升 经营业绩达成 事业部发展战略 经营战略承接 供方阵容管理 全面指标责任 高绩效团队建设", "summary": "关于岗位关键挑战，以下是详细信息：首先，外部变化应对的挑战主要体现在行业监管部门对现有商业模式的新规则制定和变动，这对现有商务合作模式产生了严重的波动性影响。其次，团队专业能力提升的挑战在于岗位符合性需要加强，新商务模式和多维度竞品分析的专业深度需要提高。最后，经营业绩达成的挑战源于政策变动导致的既有商业模式变动，这增加了新合作模式的不确定性和业绩达成的风险。\n\n关于岗位角色定位，以下是详细信息：首先，该岗位是事业部发展战略的制定者，需要理解公司战略发展要求及运营定位，制定均衡可持续发展的商务策略，包括了解公司的整体战略、市场需求、竞争环境、竞品数据分析，以及协调与其他部门的需求商务合作。其次，该岗位是经营战略的承接者，需要承接公司的收入指标，实现收入-家庭场景事业部、开票回款率目标。此外，该岗位是供方阵容的管理者，需要明确不同类型供应商的合作策略，构建有效竞合关系，助力供应商阵容持续提升。同时，该岗位是全面指标结果的责任者，需要确保牌照合作方、内容合作方经营安全与商务方案执行，承担媒资内容引入、新业务采购需求、回款、竞品数据收集、相关工作政府关系等支撑目标实现的责任。最后，该岗位是高绩效团队建设和文化塑造者，需要建立匹配战略落地和组织经营目标实现的组织发展、干部人才梯队，激励和激发团队斗志和能力持续提升，引领塑造公司文化和价值观，营造良好组织氛围，持续建设高绩效团队。", "questions": "[\"岗位面临的外部变化应对挑战有哪些具体表现？\", \"岗位在团队专业能力提升方面需要重点关注哪些领域？\", \"岗位角色定位中，如何确保经营业绩的达成？\"]", "ner_n_entity": "团队 专业 能力 业绩 事业部 战略 供方 阵容 责任 绩效 人资 干部 资格 公司 总经理 管理岗", "ner_exn_entity": "商务部", "ner_v_entity": "应对 提升 经营 达成 承接 管理 建设 任职 聚"}}, {"content": "**海信管理任职资格标准**\n**聚好看公司**\n**综合管理部总经理**\n# 第一部分 概述\n## 一、标准名称\n聚好看公司综合管理部总经理任职资格标准\n## 二、标准说明\n管理岗位的任职资格是从业务需求出发，清晰界定各岗位的要求，为选拔、培养发展提供依据。\n任职资格标准框架包括五大部分：1.岗位关键挑战；2.岗位角色定位；3.关键业务活动、关键经营指标；4.任职要求；5.职业发展路径。\n## 三、任职资格使用范围\n本标准适用于综合管理部总经理岗位的员工。\n## 四、责任主体\n人力资源部保留对本文件的所有解释权。", "score": 0.7635132, "category_path": "人资知识库/干部管理/管理任职资格标准", "block_id": "bc170bc7696544bbbdf5b7828ad91033", "doc_id": "bc170bc7696544bbbdf5b7828ad91033", "metadata": {"keywords": "海信管理任职资格标准 聚好看公司 综合管理部总经理 岗位关键挑战 岗位角色定位 关键业务活动 关键经营指标 任职要求 职业发展路径 人力资源部", "summary": "关于海信管理任职资格标准，以下是详细信息：该标准适用于聚好看公司综合管理部总经理岗位，旨在从业务需求出发，清晰界定岗位要求，为选拔和培养提供依据。标准框架包括五大部分：岗位关键挑战、岗位角色定位、关键业务活动与关键经营指标、任职要求以及职业发展路径。人力资源部保留对本文件的解释权。\n\n关于标准名称，以下是详细信息：该标准名称为聚好看公司综合管理部总经理任职资格标准。\n\n关于标准说明，以下是详细信息：管理岗位的任职资格标准旨在明确各岗位的业务需求，为选拔和培养提供依据。标准框架包括岗位关键挑战、岗位角色定位、关键业务活动与关键经营指标、任职要求以及职业发展路径。\n\n关于任职资格使用范围，以下是详细信息：本标准适用于聚好看公司综合管理部总经理岗位的员工。\n\n关于责任主体，以下是详细信息：人力资源部保留对本文件的所有解释权。", "questions": "[\"聚好看公司综合管理部总经理任职资格标准的框架包括哪些部分？\", \"谁负责解释聚好看公司综合管理部总经理任职资格标准？\", \"聚好看公司综合管理部总经理任职资格标准适用于哪些员工？\"]", "ner_n_entity": "资格 公司 管理部 总经理 岗位 关键 角色 业务 活动 职业 路径 人力资源部 人资 干部 管理岗", "ner_exn_entity": "海信", "ner_v_entity": "管理 任职 聚 综合 挑战 定位 经营"}}]}

    records = data_dict['records']
    queries = []
    docs = []

    num = len(records)

    for i in range(num):
        queries.append(query)
        docs.append(records[i]['content'])



####
    # 调用rerank服务
    result = client.rerank(
        queries=queries,
        documents=docs,
        #instruction=test_instruction
    )

    # 处理并展示结果
    print("Rerank Result:")
    print(json.dumps(result, indent=2))

    if result.get("code") == 0:
        print("\nFormatted Scores (sorted by score ascending):")

        # 将结果组合成元组列表以便排序
        combined_results = list(zip(queries, docs, result["data"]))

        # 按照分数升序排序
        combined_results.sort(key=lambda x: x[2]['score'])

        # 遍历排序后的结果
        for i, (query, doc, score_data) in enumerate(combined_results):
            print(f"\nPair {i+1}:")
            print(f"Query: {query}")
            print(f"Document: {doc}")
            print(f"Relevance Score: {score_data['score']:.4f}")
